import{K as p,M as w,O as h,P as C,Q as m,R as v,h as g,T as y,U as A,V as M,k as S,l as E,W as T,X as D,Y as F,E as P,Z as R,_ as l,B,a0 as b,a1 as O,z as c,a2 as U,a3 as k,a4 as j,x as d,a5 as z,a6 as N,a7 as $,a8 as K,a9 as Q,aa as V,ab as W,ac as X,ad as Y,ae as Z,af as q,ag as G}from"./CxfjTZII.js";class H{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#n=!0;constructor(e,a=!0){this.anchor=e,this.#n=a}#r=()=>{var e=p;if(this.#t.has(e)){var a=this.#t.get(e),s=this.#s.get(a);if(s)w(s),this.#a.delete(a);else{var t=this.#e.get(a);t&&(this.#s.set(a,t.effect),this.#e.delete(a),t.fragment.lastChild.remove(),this.anchor.before(t.fragment),s=t.effect)}for(const[r,i]of this.#t){if(this.#t.delete(r),r===e)break;const o=this.#e.get(i);o&&(h(o.effect),this.#e.delete(i))}for(const[r,i]of this.#s){if(r===a||this.#a.has(r))continue;const o=()=>{if(Array.from(this.#t.values()).includes(r)){var u=document.createDocumentFragment();A(i,u),u.append(m()),this.#e.set(r,{effect:i,fragment:u})}else h(i);this.#a.delete(r),this.#s.delete(r)};this.#n||!s?(this.#a.add(r),C(i,o,!1)):o()}}};#i=e=>{this.#t.delete(e);const a=Array.from(this.#t.values());for(const[s,t]of this.#e)a.includes(s)||(h(t.effect),this.#e.delete(s))};ensure(e,a){var s=p,t=M();if(a&&!this.#s.has(e)&&!this.#e.has(e))if(t){var r=document.createDocumentFragment(),i=m();r.append(i),this.#e.set(e,{effect:v(()=>a(i)),fragment:r})}else this.#s.set(e,v(()=>a(this.anchor)));if(this.#t.set(s,e),t){for(const[o,f]of this.#s)o===e?s.skipped_effects.delete(f):s.skipped_effects.add(f);for(const[o,f]of this.#e)o===e?s.skipped_effects.delete(f.effect):s.skipped_effects.add(f.effect);s.oncommit(this.#r),s.ondiscard(this.#i)}else g&&(this.anchor=y),this.#r()}}function re(n,e,...a){var s=new H(n);S(()=>{const t=e()??null;s.ensure(t,t&&(r=>t(r,...a)))},P)}function I(n){return(e,...a)=>{var s=n(...a),t;if(g)t=y,E();else{var r=s.render().trim(),i=T(r);t=R(i),e.before(t)}const o=s.setup?.(t);D(t,t),typeof o=="function"&&F(o)}}function J(){return b===null&&O(),(b.ac??=new AbortController).signal}function x(n){c===null&&l(),j&&c.l!==null?_(c).m.push(n):B(()=>{const e=d(n);if(typeof e=="function")return e})}function L(n){c===null&&l(),x(()=>()=>d(n))}function ee(n,e,{bubbles:a=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:e,bubbles:a,cancelable:s})}function te(){const n=c;return n===null&&l(),(e,a,s)=>{const t=n.s.$$events?.[e];if(t){const r=U(t)?t.slice():[t],i=ee(e,a,s);for(const o of r)o.call(n.x,i);return!i.defaultPrevented}return!0}}function se(n){c===null&&l(),c.l===null&&k(),_(c).b.push(n)}function ae(n){c===null&&l(),c.l===null&&k(),_(c).a.push(n)}function _(n){var e=n.l;return e.u??={a:[],b:[],m:[]}}const ie=Object.freeze(Object.defineProperty({__proto__:null,afterUpdate:ae,beforeUpdate:se,createContext:z,createEventDispatcher:te,createRawSnippet:I,flushSync:N,fork:$,getAbortSignal:J,getAllContexts:K,getContext:Q,hasContext:V,hydrate:W,mount:X,onDestroy:L,onMount:x,setContext:Y,settled:Z,tick:q,unmount:G,untrack:d},Symbol.toStringTag,{value:"Module"}));export{H as B,ie as a,x as o,re as s};
