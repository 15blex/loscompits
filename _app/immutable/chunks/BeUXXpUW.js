import{K as p,M as C,O as h,P as w,Q as m,R as v,i as g,T as y,U as A,V as M,k as E,l as S,W as T,X as D,Y as F,E as P,Z as R,_ as l,B,a0 as b,a1 as O,z as i,a2 as U,a3 as k,a4 as j,x as d,a5 as z,a6 as N,a7 as $,a8 as K,a9 as Q,aa as V,ab as W,ac as X,ad as Y,ae as Z,af as q,ag as G}from"./CXMEvBHe.js";class H{anchor;#t=new Map;#s=new Map;#e=new Map;#a=!0;constructor(e,n=!0){this.anchor=e,this.#a=n}#n=()=>{var e=p;if(this.#t.has(e)){var n=this.#t.get(e),s=this.#s.get(n);if(s)C(s);else{var t=this.#e.get(n);t&&(this.#s.set(n,t.effect),this.#e.delete(n),t.fragment.lastChild.remove(),this.anchor.before(t.fragment),s=t.effect)}for(const[r,o]of this.#t){if(this.#t.delete(r),r===e)break;const c=this.#e.get(o);c&&(h(c.effect),this.#e.delete(o))}for(const[r,o]of this.#s){if(r===n)continue;const c=()=>{if(Array.from(this.#t.values()).includes(r)){var u=document.createDocumentFragment();A(o,u),u.append(m()),this.#e.set(r,{effect:o,fragment:u})}else h(o);this.#s.delete(r)};this.#a||!s?w(o,c,!1):c()}}};#r=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[s,t]of this.#e)n.includes(s)||(h(t.effect),this.#e.delete(s))};ensure(e,n){var s=p,t=M();if(n&&!this.#s.has(e)&&!this.#e.has(e))if(t){var r=document.createDocumentFragment(),o=m();r.append(o),this.#e.set(e,{effect:v(()=>n(o)),fragment:r})}else this.#s.set(e,v(()=>n(this.anchor)));if(this.#t.set(s,e),t){for(const[c,f]of this.#s)c===e?s.skipped_effects.delete(f):s.skipped_effects.add(f);for(const[c,f]of this.#e)c===e?s.skipped_effects.delete(f.effect):s.skipped_effects.add(f.effect);s.oncommit(this.#n),s.ondiscard(this.#r)}else g&&(this.anchor=y),this.#n()}}function re(a,e,...n){var s=new H(a);E(()=>{const t=e()??null;s.ensure(t,t&&(r=>t(r,...n)))},P)}function I(a){return(e,...n)=>{var s=a(...n),t;if(g)t=y,S();else{var r=s.render().trim(),o=T(r);t=R(o),e.before(t)}const c=s.setup?.(t);D(t,t),typeof c=="function"&&F(c)}}function J(){return b===null&&O(),(b.ac??=new AbortController).signal}function x(a){i===null&&l(),j&&i.l!==null?_(i).m.push(a):B(()=>{const e=d(a);if(typeof e=="function")return e})}function L(a){i===null&&l(),x(()=>()=>d(a))}function ee(a,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(a,{detail:e,bubbles:n,cancelable:s})}function te(){const a=i;return a===null&&l(),(e,n,s)=>{const t=a.s.$$events?.[e];if(t){const r=U(t)?t.slice():[t],o=ee(e,n,s);for(const c of r)c.call(a.x,o);return!o.defaultPrevented}return!0}}function se(a){i===null&&l(),i.l===null&&k(),_(i).b.push(a)}function ae(a){i===null&&l(),i.l===null&&k(),_(i).a.push(a)}function _(a){var e=a.l;return e.u??={a:[],b:[],m:[]}}const oe=Object.freeze(Object.defineProperty({__proto__:null,afterUpdate:ae,beforeUpdate:se,createContext:z,createEventDispatcher:te,createRawSnippet:I,flushSync:N,fork:$,getAbortSignal:J,getAllContexts:K,getContext:Q,hasContext:V,hydrate:W,mount:X,onDestroy:L,onMount:x,setContext:Y,settled:Z,tick:q,unmount:G,untrack:d},Symbol.toStringTag,{value:"Module"}));export{H as B,oe as a,x as o,re as s};
