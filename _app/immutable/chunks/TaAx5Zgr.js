import{l as h,j as b,m as v,E as y,n as T,H as p,o as E,q as S,v as _,w as A,x as N,y as k,z as B,S as R,A as o,B as w,g as x,C as D,D as F,F as M}from"./B_QgdkES.js";import{B as O,s as q,g as C}from"./DwkUJIWB.js";function L(s,a,n=!1){b&&v();var r=new O(s),u=n?y:0;function e(i,t){if(b){const g=T(s)===p;if(i===g){var f=E();S(f),r.anchor=f,_(!1),r.ensure(i,t),_(!0);return}}r.ensure(i,t)}h(()=>{var i=!1;a((t,f=!0)=>{i=!0,e(f,t)}),i||e(!1,null)},u)}function d(s,a){return s===a||s?.[R]===a}function U(s={},a,n,r){return A(()=>{var u,e;return N(()=>{u=e,e=[],k(()=>{s!==n(...e)&&(a(s,...e),u&&d(n(...u),s)&&a(null,...u))})}),()=>{B(()=>{e&&d(n(...e),s)&&a(null,...e)})}}),s}let c=!1,l=Symbol();function Y(s,a,n){const r=n[a]??={store:null,source:w(void 0),unsubscribe:o};if(r.store!==s&&!(l in n))if(r.unsubscribe(),r.store=s??null,s==null)r.source.v=void 0,r.unsubscribe=o;else{var u=!0;r.unsubscribe=q(s,e=>{u?r.source.v=e:F(r.source,e)}),u=!1}return s&&l in n?C(s):x(r.source)}function j(){const s={};function a(){D(()=>{for(var n in s)s[n].unsubscribe();M(s,l,{enumerable:!1,value:!0})})}return[s,a]}function z(s){var a=c;try{return c=!1,[s(),c]}finally{c=a}}export{j as a,U as b,z as c,L as i,Y as s};
