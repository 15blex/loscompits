import{R as m,T as A,U as p,V as S,W as g,X as v,j as k,Y as w,Z as E,_ as M,l as T,m as j,a0 as D,a1 as F,C as R,E as q,a2 as z,A as d,y as _,a3 as P,a4 as h,J as U,a5 as y,a6 as B,G as f,a7 as N,a8 as x,a9 as O,aa as $,ab as G,ac as J,ad as V,ae as W,af as X,ag as Y,ah as Z,ai as H,aj as I,ak as K,al as L}from"./D6VBwnkv.js";class Q{anchor;#t=new Map;#s=new Map;#e=new Map;#n=new Set;#a=!0;constructor(e,n=!0){this.anchor=e,this.#a=n}#i=()=>{var e=m;if(this.#t.has(e)){var n=this.#t.get(e),t=this.#s.get(n);if(t)A(t),this.#n.delete(n);else{var a=this.#e.get(n);a&&(this.#s.set(n,a.effect),this.#e.delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),t=a.effect)}for(const[i,o]of this.#t){if(this.#t.delete(i),i===e)break;const r=this.#e.get(o);r&&(p(r.effect),this.#e.delete(o))}for(const[i,o]of this.#s){if(i===n||this.#n.has(i))continue;const r=()=>{if(Array.from(this.#t.values()).includes(i)){var c=document.createDocumentFragment();E(o,c),c.append(g()),this.#e.set(i,{effect:o,fragment:c})}else p(o);this.#n.delete(i),this.#s.delete(i)};this.#a||!t?(this.#n.add(i),S(o,r,!1)):r()}}};#r=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[t,a]of this.#e)n.includes(t)||(p(a.effect),this.#e.delete(t))};ensure(e,n){var t=m,a=M();if(n&&!this.#s.has(e)&&!this.#e.has(e))if(a){var i=document.createDocumentFragment(),o=g();i.append(o),this.#e.set(e,{effect:v(()=>n(o)),fragment:i})}else this.#s.set(e,v(()=>n(this.anchor)));if(this.#t.set(t,e),a){for(const[r,l]of this.#s)r===e?t.skipped_effects.delete(l):t.skipped_effects.add(l);for(const[r,l]of this.#e)r===e?t.skipped_effects.delete(l.effect):t.skipped_effects.add(l.effect);t.oncommit(this.#i),t.ondiscard(this.#r)}else k&&(this.anchor=w),this.#i()}}function fe(s,e,...n){var t=new Q(s);T(()=>{const a=e()??null;t.ensure(a,a&&(i=>a(i,...n)))},q)}function ee(s){return(e,...n)=>{var t=s(...n),a;if(k)a=w,j();else{var i=t.render().trim(),o=D(i);a=z(o),e.before(a)}const r=t.setup?.(a);F(a,a),typeof r=="function"&&R(r)}}function te(s,e,n){if(s==null)return e(void 0),d;const t=_(()=>s.subscribe(e,n));return t.unsubscribe?()=>t.unsubscribe():t}const u=[];function le(s,e=d){let n=null;const t=new Set;function a(r){if(P(s,r)&&(s=r,n)){const l=!u.length;for(const c of t)c[1](),u.push(c,s);if(l){for(let c=0;c<u.length;c+=2)u[c][0](u[c+1]);u.length=0}}}function i(r){a(r(s))}function o(r,l=d){const c=[r,l];return t.add(c),t.size===1&&(n=e(a,i)||d),r(s),()=>{t.delete(c),t.size===0&&n&&(n(),n=null)}}return{set:a,update:i,subscribe:o}}function ue(s){let e;return te(s,n=>e=n)(),e}function se(){return y===null&&B(),(y.ac??=new AbortController).signal}function C(s){f===null&&h(),O&&f.l!==null?b(f).m.push(s):U(()=>{const e=_(s);if(typeof e=="function")return e})}function ne(s){f===null&&h(),C(()=>()=>_(s))}function ae(s,e,{bubbles:n=!1,cancelable:t=!1}={}){return new CustomEvent(s,{detail:e,bubbles:n,cancelable:t})}function ie(){const s=f;return s===null&&h(),(e,n,t)=>{const a=s.s.$$events?.[e];if(a){const i=N(a)?a.slice():[a],o=ae(e,n,t);for(const r of i)r.call(s.x,o);return!o.defaultPrevented}return!0}}function re(s){f===null&&h(),f.l===null&&x(),b(f).b.push(s)}function oe(s){f===null&&h(),f.l===null&&x(),b(f).a.push(s)}function b(s){var e=s.l;return e.u??={a:[],b:[],m:[]}}const he=Object.freeze(Object.defineProperty({__proto__:null,afterUpdate:oe,beforeUpdate:re,createContext:$,createEventDispatcher:ie,createRawSnippet:ee,flushSync:G,fork:J,getAbortSignal:se,getAllContexts:V,getContext:W,hasContext:X,hydrate:Y,mount:Z,onDestroy:ne,onMount:C,setContext:H,settled:I,tick:K,unmount:L,untrack:_},Symbol.toStringTag,{value:"Module"}));export{Q as B,fe as a,he as b,ue as g,C as o,te as s,le as w};
